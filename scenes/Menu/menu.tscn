[gd_scene load_steps=16 format=2]

[ext_resource path="res://scenes/Menu/AnimationPlayer.gd" type="Script" id=1]
[ext_resource path="res://assets/UI/pattern/pattern82.png" type="Texture" id=2]
[ext_resource path="res://assets/UI/pattern/pattern24.png" type="Texture" id=3]
[ext_resource path="res://assets/UI/white.png" type="Texture" id=4]
[ext_resource path="res://scenes/GameMode/game_mode.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/Lobby/lobby.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/Settings/settings.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/Popup/InfoPopup/InfoPopup.tscn" type="PackedScene" id=8]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;
uniform sampler2D tex_frg_2;
uniform vec3 themeColor = vec3(1, 1, 1);
void vertex() {
// Output:0

}

void fragment() {
// Color:4
	vec3 n_out4p0 = themeColor;
	float n_out4p1 = 1.000000;

// Input:3
	vec3 n_out3p0 = vec3(UV, 0.0);

// VectorDecompose:9
	float n_out9p0 = n_out3p0.x;
	float n_out9p1 = n_out3p0.y;
	float n_out9p2 = n_out3p0.z;

// Input:7
	float n_out7p0 = TIME;

// ScalarOp:14
	float n_in14p1 = 0.10000;
	float n_out14p0 = n_out7p0 * n_in14p1;

// ScalarFunc:11
	float n_out11p0 = -(n_out14p0);

// ScalarOp:10
	float n_out10p0 = n_out9p1 + n_out11p0;

// VectorCompose:8
	float n_in8p2 = 0.00000;
	vec3 n_out8p0 = vec3(n_out9p0, n_out10p0, n_in8p2);

// Scalar:6
	float n_out6p0 = 2.500000;

// VectorCompose:13
	vec3 n_out13p0 = vec3(n_out6p0, n_out6p0, n_out6p0);

// VectorOp:12
	vec3 n_out12p0 = n_out8p0 / n_out13p0;

// Texture:2
	vec4 tex_frg_2_read = texture(tex_frg_2, n_out12p0.xy);
	vec3 n_out2p0 = tex_frg_2_read.rgb;
	float n_out2p1 = tex_frg_2_read.a;

// VectorFunc:5
	vec3 n_out5p0 = max(min(n_out2p0, vec3(1.0)), vec3(0.0));

// VectorOp:16
	vec3 n_out16p0 = n_out4p0 * n_out5p0;

// Output:0
	COLOR.rgb = n_out16p0;
	COLOR.a = dot(n_out5p0, vec3(0.333333, 0.333333, 0.333333));

}

void light() {
// Output:0

}
"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/themeColor = Vector3( 1, 1, 1 )
shader_param/tex_frg_2 = ExtResource( 3 )

[sub_resource type="Shader" id=3]
code = "shader_type canvas_item;

uniform float amount: hint_range(0.0, 5.0);

void fragment() {
	COLOR.rgb = textureLod(SCREEN_TEXTURE, SCREEN_UV, amount).rgb;
}
"

[sub_resource type="ShaderMaterial" id=4]
shader = SubResource( 3 )
shader_param/amount = 2.8

[sub_resource type="Animation" id=5]
tracks/0/type = "value"
tracks/0/path = NodePath("lobby:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("lobby:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("settings:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("settings:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("game_mode:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("game_mode:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0.4, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=6]
tracks/0/type = "value"
tracks/0/path = NodePath("settings:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("settings:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("lobby:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0.4, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("lobby:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("game_mode:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("game_mode:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}

[sub_resource type="Animation" id=7]
tracks/0/type = "value"
tracks/0/path = NodePath("lobby:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("lobby:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("settings:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0.4, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("settings:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("game_mode:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("game_mode:modulate")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}

[node name="Node2D" type="Node"]

[node name="TextureRect" type="TextureRect" parent="." groups=[
"theme",
]]
self_modulate = Color( 1, 0.831373, 0.164706, 1 )
material = SubResource( 2 )
margin_right = 1437.0
margin_bottom = 2561.0
texture = ExtResource( 2 )
stretch_mode = 2
flip_v = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Blur" type="TextureRect" parent="."]
material = SubResource( 4 )
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 2
size_flags_vertical = 2
texture = ExtResource( 4 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="lobby" parent="." instance=ExtResource( 6 )]
margin_left = 1.37842
margin_right = 1441.38

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/game_mode = SubResource( 5 )
anims/menu = SubResource( 6 )
anims/settings = SubResource( 7 )
script = ExtResource( 1 )

[node name="settings" parent="." instance=ExtResource( 7 )]
visible = false

[node name="HTTPRequest" type="HTTPRequest" parent="."]
use_threads = true

[node name="game_mode" parent="." instance=ExtResource( 5 )]
visible = false

[node name="InfoPopup" parent="." instance=ExtResource( 8 )]
[connection signal="show_mode" from="lobby" to="AnimationPlayer" method="_on_lobby_show_mode"]
[connection signal="show_settings" from="lobby" to="AnimationPlayer" method="_on_lobby_show_settings"]
[connection signal="menu_pressed" from="settings" to="AnimationPlayer" method="_on_menu_pressed"]
[connection signal="request_completed" from="HTTPRequest" to="lobby" method="_on_HTTPRequest_request_completed"]
[connection signal="menu" from="game_mode" to="AnimationPlayer" method="_on_game_mode_menu"]
[connection signal="settings" from="game_mode" to="AnimationPlayer" method="_on_game_mode_settings"]
